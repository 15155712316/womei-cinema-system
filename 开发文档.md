# 模拟影院下单系统开发文档

## 一、项目结构建议

```
cinema_order_simulator/
├── main.py                # 程序入口
├── ui/                    # 界面相关代码
│   ├── main_window.py     # 主界面UI（Tkinter实现）
│   └── ...                # 其他UI组件
├── models/                # 数据模型
│   ├── account.py         # 账号模型
│   ├── cinema.py          # 影院模型
│   ├── movie.py           # 电影模型
│   ├── order.py           # 订单模型
│   └── ...                # 其他模型
├── services/              # 业务逻辑
│   ├── order_service.py   # 下单相关逻辑
│   ├── payment_service.py # 支付相关逻辑
│   └── ...                # 其他服务
├── data/                  # 本地数据存储
│   ├── accounts.json
│   ├── cinemas.json
│   ├── movies.json
│   └── orders.json
└── README.md              # 项目说明文档
```

## 二、技术选型建议
- 前端/桌面UI：Tkinter
- 后端/数据：本地JSON文件模拟，无需数据库
- 开发语言：Python 3.8+

## 三、主要功能
1. 账号管理：导入/登录账号，显示余额、积分等。
2. 影院与影片选择：支持城市、影院、影片、场次多级筛选。
3. 选座购票：可视化座位图，支持多选座位。
4. 下单与支付：生成订单，模拟扫码支付或一键支付。
5. 出票与取票：支付后显示出票二维码和取票码。
6. 会员卡与优惠：支持会员卡、积分、优惠券等。
7. 订单管理：订单查询、复制、取消等。

## 四、接口说明

### 4.1 账号相关
| 接口名         | 功能         | 输入参数           | 输出参数         | 说明           |
| -------------- | ------------ | ------------------ | --------------- | -------------- |
| login          | 账号登录     | 账号、密码         | 登录结果、信息   | 本地校验       |
| get_accounts   | 获取账号列表 | 无                 | 账号列表        | 读取本地数据   |
| get_balance    | 查询余额     | 账号ID             | 余额、积分      |                |

### 4.2 影院与影片
| 接口名         | 功能         | 输入参数           | 输出参数         | 说明           |
| -------------- | ------------ | ------------------ | --------------- | -------------- |
| get_cities     | 获取城市列表 | 无                 | 城市列表        |                |
| get_cinemas    | 获取影院列表 | 城市名             | 影院列表        |                |
| get_movies     | 获取影片列表 | 影院ID             | 影片列表        |                |
| get_sessions   | 获取场次     | 影院ID、影片ID     | 场次列表        |                |

### 4.3 选座与下单
| 接口名         | 功能         | 输入参数           | 输出参数         | 说明           |
| -------------- | ------------ | ------------------ | --------------- | -------------- |
| get_seats      | 获取座位图   | 场次ID             | 座位分布        |                |
| create_order   | 创建订单     | 账号ID、场次ID、座位 | 订单信息        |                |
| pay_order      | 支付订单     | 订单ID、支付方式   | 支付结果        | 模拟支付       |
| get_order      | 查询订单     | 订单ID             | 订单详情        |                |
| cancel_order   | 取消订单     | 订单ID             | 取消结果        |                |

### 4.4 会员卡与优惠
| 接口名         | 功能         | 输入参数           | 输出参数         | 说明           |
| -------------- | ------------ | ------------------ | --------------- | -------------- |
| get_coupons    | 获取优惠券   | 账号ID             | 优惠券列表      |                |
| use_coupon     | 使用优惠券   | 订单ID、优惠券ID   | 使用结果        |                |

## 五、原型图（文字描述）

### 5.1 主要界面布局
```
┌────────────┬─────────────────────────────┬──────────────┬──────────────┐
│ 账号管理区 │ 城市影院电影日期场次区      │ 券列表区     │ 取票码区     │
└────────────┴─────────────────────────────┴──────────────┴──────────────┘
┌─────────────────────────────────────────────────────────┬──────────────┐
│                      座位图区域                         │ 订单信息区   │
└─────────────────────────────────────────────────────────┴──────────────┘
```

### 5.2 交互流程图
1. 登录/导入账号
2. 选择城市 → 选择影院 → 选择影片 → 选择场次
3. 选座（点击座位图）
4. 生成订单 → 显示订单详情
5. 扫码支付/一键支付（模拟）
6. 出票，显示二维码和取票码
7. 订单管理（可取消、复制、查看历史）

### 5.3 关键界面原型（文字版）
- 账号管理区（左侧）：账号输入、登录、账号列表、余额、积分
- 影院/影片/场次/座位选择区（中间）：多级下拉框、座位图（可点击）
- 订单详情区（右侧）：订单信息、支付二维码、出票二维码、订单操作

## 六、开发建议
- 每个功能都要有异常处理和友好提示，比如余额不足、座位已售、支付失败等。
- 所有数据都可以用本地json文件模拟，方便测试和演示。
- UI布局和交互建议参考UI原型图，保持简洁明了。
- 适合初中生和非技术用户操作，重要信息突出显示。

---
如需更详细的接口参数示例、json格式样例、UI原型图手绘版等，可随时补充！ 