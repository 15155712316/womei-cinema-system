# 柴犬影院票务管理系统 - 用户使用手册

## ⚙️ 首次配置

### 1. 首次启动

1. **启动程序**
   - 双击桌面快捷方式
   - 或从开始菜单启动

2. **登录界面**
   - 程序启动后会显示登录界面
   - 显示当前设备的机器码

### 2. 账号注册

**注意**：账号需要管理员添加，用户无法自行注册。

1. **联系管理员**
   - 提供您的手机号码
   - 提供程序显示的机器码

2. **等待账号开通**
   - 管理员会在后台添加您的账号
   - 绑定您的设备机器码

### 3. 首次登录

1. **输入手机号**
   - 在登录界面输入管理员为您注册的手机号
   - 确保手机号格式正确（11位数字）

2. **点击登录**
   - 系统会自动验证机器码
   - 验证成功后进入主界面

### 4. 添加影院信息

首次登录后需要添加影院信息：

1. **点击"添加影院"按钮**
2. **输入影院信息**：
   - API域名：影院的API服务器地址
   - 影院ID：影院的唯一标识符
3. **点击"验证并添加"**
4. **系统自动获取影院名称**

---

## 🎬 功能详解

### 账号管理模块

#### 添加账号
1. **选择影院**：从下拉列表选择已添加的影院
2. **点击"添加账号"**：打开账号添加对话框
3. **输入账号信息**：
   - 手机号：11位手机号码
   - 密码：账号密码
   - 备注：可选的账号备注信息
4. **点击"保存"**：系统会验证账号并保存

#### 账号登录
1. **选择账号**：在账号列表中选择要使用的账号
2. **点击"登录"**：系统自动登录选中的账号
3. **查看状态**：登录成功后显示"已登录"状态

#### 设置主账号
1. **右键点击账号**：在账号列表中右键点击
2. **选择"设置为主账号"**：该账号将成为默认账号
3. **自动选择**：切换影院时自动选择主账号

### 出票管理模块

#### 选择影片和场次
1. **选择日期**：从日期下拉框选择观影日期
2. **选择影片**：从影片列表选择要观看的电影
3. **选择场次**：从场次列表选择具体的放映时间
4. **查看信息**：系统显示影片详情和价格信息

#### 座位选择
1. **加载座位图**：选择场次后自动加载座位图
2. **选择座位**：
   - 绿色：可选座位
   - 红色：已售座位
   - 蓝色：已选座位
3. **确认选择**：选择完成后座位信息显示在下方

#### 创建订单
1. **点击"选座"按钮**：在选择座位后点击
2. **系统处理**：
   - 自动取消未付款订单
   - 创建新订单
   - 获取可用优惠券
3. **订单确认**：订单创建成功后显示订单详情

### 优惠券管理

#### 查看可用券
1. **自动加载**：创建订单后自动显示可用券
2. **券信息显示**：
   - 券名称
   - 面额
   - 使用条件
   - 有效期

#### 选择和使用券
1. **选择优惠券**：点击券列表中的券项
2. **查看价格**：系统自动计算使用券后的价格
3. **确认使用**：在支付时自动应用选中的券

### 订单管理模块

#### 查看订单列表
1. **切换到订单Tab**：点击"订单"标签页
2. **订单状态**：
   - 🟠 待支付：橙色显示
   - 🟢 已完成：绿色显示
   - 🔴 已取消：红色显示
   - 🔵 已取票：蓝色显示

#### 订单操作
1. **双击查看详情**：双击订单行查看取票码
2. **右键菜单**：
   - 取消订单：取消未付款订单
   - 查看详情：显示订单详细信息

#### 取票码生成
1. **双击已支付订单**：系统自动生成取票码
2. **二维码显示**：在右侧区域显示二维码
3. **信息显示**：
   - 取票码
   - 影片信息
   - 座位信息
   - 手机号码

### 支付功能

#### 一键支付
1. **点击"一键支付"按钮**：在订单详情区域
2. **支付处理**：
   - 使用选中的优惠券
   - 计算实际支付金额
   - 提交支付请求
3. **支付完成**：自动生成取票码

---

## ❓ 常见问题

### Q1: 登录时提示"设备未授权，机器码不匹配"
**A1**: 
- 这是正常的安全机制
- 联系管理员更新您的设备机器码
- 提供程序显示的当前机器码给管理员

### Q2: 无法连接到服务器
**A2**: 
- 检查网络连接是否正常
- 确认防火墙没有阻止程序
- 联系管理员确认服务器状态

### Q3: 座位图无法加载
**A3**: 
- 确保已选择影院、影片、日期和场次
- 检查账号是否已登录
- 刷新页面重试

### Q4: 优惠券无法使用
**A4**: 
- 检查券是否在有效期内
- 确认券的使用条件
- 验证订单金额是否满足使用条件

### Q5: 二维码无法生成
**A5**: 
- 确保订单已支付成功
- 检查网络连接
- 重新双击订单尝试

---

## 🔧 故障排除

### 程序无法启动

**症状**：双击程序图标无反应或报错

**解决方案**：
1. **检查系统要求**：确认Windows版本兼容
2. **以管理员身份运行**：右键选择"以管理员身份运行"
3. **重新安装**：删除程序重新安装
4. **检查杀毒软件**：确认程序未被误杀

### 界面显示异常

**症状**：界面布局错乱或显示不完整

**解决方案**：
1. **调整分辨率**：设置为推荐分辨率1920x1080
2. **调整缩放**：Windows显示缩放设置为100%
3. **重启程序**：关闭程序重新启动

### 网络连接问题

**症状**：提示网络错误或连接超时

**解决方案**：
1. **检查网络**：确认能正常访问互联网
2. **检查防火墙**：
   ```
   控制面板 → 系统和安全 → Windows Defender防火墙
   → 允许应用通过防火墙 → 添加CinemaTicketSystem.exe
   ```
3. **检查代理设置**：如使用代理，确认配置正确
4. **联系网络管理员**：企业网络可能需要特殊配置

### 数据丢失问题

**症状**：影院信息或账号信息丢失

**解决方案**：
1. **检查data目录**：确认data文件夹存在
2. **恢复备份**：如有备份文件，复制到data目录
3. **重新添加**：手动重新添加影院和账号信息

---

## 📞 技术支持

### 联系方式

**技术支持邮箱**：support@cinema-system.com
**客服热线**：400-XXX-XXXX（工作日 9:00-18:00）
**在线客服**：访问官网在线客服系统

### 问题反馈

提交问题时请提供以下信息：
1. **系统信息**：Windows版本、内存大小
2. **程序版本**：程序关于页面的版本号
3. **错误描述**：详细的错误现象和操作步骤
4. **错误截图**：如有界面异常，请提供截图
5. **日志文件**：程序目录下的log文件

### 远程协助

如需远程协助，请：
1. **预约时间**：通过客服预约远程协助时间
2. **准备环境**：确保网络连接稳定
3. **安装远程软件**：按客服指导安装远程协助软件
4. **配合操作**：在技术人员指导下操作

---

## 📝 版本信息

**当前版本**：v1.0.0
**发布日期**：2024年12月
**更新内容**：
- 初始版本发布
- 支持多影院管理
- 支持优惠券功能
- 支持二维码生成

**下一版本计划**：
- 增加批量出票功能
- 优化界面体验
- 增加数据导出功能

---

## 📄 许可协议

本软件受版权保护，仅供授权用户使用。未经许可不得复制、分发或修改。

**版权所有** © 2024 柴犬影院票务系统开发团队

---

*本手册最后更新时间：2024年12月*
